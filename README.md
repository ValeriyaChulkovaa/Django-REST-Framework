# Django DRF 31 Homework

## Завершенный проект с DRF

### Задание 1: Реализация CRUD для пользователей с JWT-авторизацией

#### Регистрация и авторизация пользователей

1. Настроены эндпоинты для регистрации пользователей и получения JWT-токенов:
   - Регистрация доступна без авторизации.
   - Авторизация через JWT-токен реализована с использованием библиотеки `djangorestframework-simplejwt`.

2. Настроен сериализатор для регистрации пользователей и работы с их данными.

#### CRUD для пользователей

1. Реализованы эндпоинты для управления пользователями (создание, чтение, обновление, удаление):
   - Доступ к эндпоинтам возможен только после авторизации.
   - Использованы дженерики `APIView` для минимизации кода.

2. Каждое действие защищено авторизацией через JWT-токен.

---

### Задание 2: Группа модераторов с ограниченными правами

1. Создана группа "Модераторы" с ограниченными правами:
   - Модераторы могут просматривать, редактировать и управлять уроками и курсами.
   - Создание и удаление курсов и уроков запрещено для модераторов.

2. В контроллерах настроена проверка прав группы для ограничения действий модераторов.

3. Добавлены тестовые данные для группы модераторов и проверки их прав.

---

### Задание 3: Права доступа для объектов

1. Настроены права доступа для пользователей:
   - Пользователи, не входящие в группу модераторов, могут видеть, редактировать и удалять только свои курсы и уроки.

2. Реализован кастомный класс пермишенов для проверки прав доступа на уровне объекта:
   - Используется метод `has_object_permission` для проверки владельца объекта.

3. Все эндпоинты для курсов и уроков закрыты авторизацией.

---

### Установка и запуск проекта

#### Шаги для запуска проекта:

1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/ValeriyaChulkovaa/Django-REST-Framework.git
   ```

2. Создайте и заполните файл `.env` с необходимыми данными (например, ключи для JWT).

3. Установите зависимости:
   ```bash
   poetry install
   ```

4. Активируйте виртуальное окружение:
   ```bash
   poetry shell
   ```

5. Выполните миграции:
   ```bash
   python manage.py migrate
   ```

6. Создайте суперпользователя:
   ```bash
   python manage.py createsuperuser
   ```

7. Загрузите тестовые данные:
   - Для пользователей:
     ```bash
     python manage.py load_users
     ```
   - Для групп и прав:
     ```bash
     python manage.py setup_groups
     ```

8. Запустите сервер разработки:
   ```bash
   python manage.py runserver
   ```

---

### Примечания
- Настроена фильтрация данных с использованием `django-filter` для удобной работы с курсами и уроками.
- Тестирование функциональности планируется на следующем этапе.
